import os
import shutil


def remove_some_lines_in_file_if_exists(
    file_path, start_keyword, end_keyword, exclude_last_line
):
    if os.path.exists(file_path):
        with open(file_path, "r") as f:
            lines = f.readlines()

        start_index = -1
        end_index = -1

        for i, line in enumerate(lines):
            if start_keyword in line:
                start_index = i
            if end_keyword in line:
                end_index = i
                break

        if start_index != -1 and end_index != -1:
            if start_keyword == end_keyword:
                end_index = start_index + 1
                lines = lines[:start_index] + lines[end_index:]
            elif start_index < end_index:
                if not bool(exclude_last_line):
                    end_index += 1
                lines = lines[:start_index] + lines[end_index:]

        with open(file_path, "w") as f:
            f.writelines(lines)


def remove_file_if_exists(file_path):
    if os.path.exists(file_path):
        os.remove(file_path)


def remove_dir_if_exists(dir_path):
    if os.path.exists(dir_path):
        shutil.rmtree(dir_path)
